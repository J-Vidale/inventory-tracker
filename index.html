<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <title>Inventory Tracker</title>
  <link rel="stylesheet" href="styles.css">
  <body>
  <h1>Inventory Tracker</h1>

  <div class="controls">
    <button onclick="sortBy('name')">Sort by Name</button>
    <button onclick="sortBy('price')">Sort by Price</button>
  </div>

  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Name</th>
        <th>Price</th>
        <th>Tax</th>
        <th>Details</th>
      </tr>
    </thead>
    <tbody id="inventory-body">
      <!-- Inventory Rows -->
    </tbody>
  </table>

  <script>
    class Product {
      constructor(id, name, price) {
        this.id = id;
        this.name = name;
        this.price = price;
      }
      displayDetails() {
        return `${this.name} (ID: ${this.id}) - $${this.price.toFixed(2)}`;
      }
    }
    class PhysicalProduct extends Product {
      constructor(id, name, price, weight) {
        super(id, name, price);
        this.weight = weight;
      }
      applyBulkDiscount(threshold, percent) {
        if (this.weight >= threshold) {
          this.price *= (1 - percent / 100);
        }
      }
      displayDetails() {
        return `${super.displayDetails()} - Weight: ${this.weight}kg`;
      }
    }
    class DigitalProduct extends Product {
      constructor(id, name, price, fileSize) {
        super(id, name, price);
        this.fileSize = fileSize;
      }
      displayDetails() {
        return `${super.displayDetails()} - File Size: ${this.fileSize}MB`;
      }
    }

    function calculateTax(item) {
      const TAX_RATE = 0.08;
      return item.price * TAX_RATE;
    }

    const inventory = [
      new PhysicalProduct('P001', 'Laptop', 1500, 2.5),
      new DigitalProduct('D001', 'E-Book', 30, 15),
      new PhysicalProduct('P002', 'T-Shirt', 25, 0.3),
      new DigitalProduct('D002', 'Software License', 200, 0.1),
    ];

    // Bulk discount application
    inventory.forEach(item => {
      if (item instanceof PhysicalProduct) {
        item.applyBulkDiscount(2.0, 5);
      }
    });

    function renderTable(items) {
      const tbody = document.getElementById('inventory-body');
      tbody.innerHTML = '';
      items.forEach(item => {
        const tr = document.createElement('tr');
        const tax = calculateTax(item).toFixed(2);
        tr.innerHTML = `
          <td>${item.id}</td>
          <td>${item.name}</td>
          <td>$${item.price.toFixed(2)}</td>
          <td>$${tax}</td>
          <td>${item.displayDetails()}</td>
        `;
        tbody.appendChild(tr);
      });
    }

    function sortBy(field) {
      let sorted;
      if (field === 'name') {
        sorted = [...inventory].sort((a, b) => a.name.localeCompare(b.name));
      } else if (field === 'price') {
        sorted = [...inventory].sort((a, b) => a.price - b.price);
      }
      renderTable(sorted);
    }

    // Initial render
    renderTable(inventory);
  </script>
</body>
</html>
